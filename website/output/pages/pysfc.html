<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />


    <title>
        <!-- <a href="https://github.com/bgerazov/prosodeep">
<img style="position: absolute; top: 0; left: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png" alt="Code on GitHub" />
</a>
 -->
PySFC</title>

    <link rel="stylesheet" href="../theme/css/normalize.css" />
    <link rel="stylesheet" href="../theme/css/foundation.min.css" />
    <link rel="stylesheet" href="../theme/css/style.css" />
    <link rel="stylesheet" href="../theme/css/pygments.css" />
    <script src="../theme/js/custom.modernizr.js"></script>

    <!-- So Firefox can bookmark->"abo this site" -->

</head>

<body>

<!-- Nav Bar -->
<nav>
<div class="top-bar">
<div class="row">
    <div class="large-9 large-centered columns">
	    <h1><a href="..">ProsoDeep</a></h1>
    </div>
</div>
</div>

<!-- Show menu items and pages -->
<div class="row">
<div class="large-9 columns">
    <ul class="button-group navigation">

    </ul>
</div>
</div>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->
<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns">
        
    <h3>PySFC</h3>
    
    <p>PySFC is a Python implementation of the <span class="caps">SFC</span> model that was created with two goals: <em>i</em>) to make the <span class="caps">SFC</span> more accessible to the scientific community, and <em>ii</em>) to serve as a foundation for future improvements of the prosody model.
The PySFC also implements a minimum set of tools necessary to make the system self-contained and fully&nbsp;functional.</p>
<p>Python was chosen as an implementation language because of the powerful scientific computing environment that is completely based on free software. It is based on <a href="http://www.numpy.org/">NumPy</a> within the <a href="https://www.scipy.org/">SciPy</a> ecosystem. The neural networks and their training have been facilitated through the use of the Multi Layer Perceptron (<span class="caps">MLP</span>) regressor in the powerful <a href="http://scikit-learn.org/stable/index.html">scikit-learn</a> module.
Great attention was put on code readability, which is also one of the features of good Python, augmented with detailed functions docstrings, and comments. The code is segmented in <a href="https://pythonhosted.org/spyder/">Spyder</a> cells for rapid prototyping. Finally, the whole implementation has been licensed as <a href="http://fsf.org/">free software</a> with a <a href="http://www.gnu.org/licenses/"><span class="caps">GNU</span> General Public License v3</a>. The code can be found on GitHub: <a href="https://github.com/bgerazov/PySFC">https://github.com/bgerazov/PySFC</a></p>
<h4>PySFC&nbsp;Modules</h4>
<p>PySFC comprises the following&nbsp;modules:</p>
<ul>
<li><code>sfc.py</code> - main module that controls the application of the <span class="caps">SFC</span> model to a chosen&nbsp;dataset.</li>
<li><code>sfc_params.py</code> - parameter setting module that includes:<ul>
<li>data related parameters - type of input data, phrase level functional contours, local functional&nbsp;contours,</li>
<li><span class="caps">SFC</span> hyperparameters - number of points to be sampled from the pitch, number of iterations for analysis-by-synthesis, as well as <span class="caps">NNCG</span>&nbsp;parameters,</li>
<li><span class="caps">SFC</span> execution parameters - use of preprocessed data, use of trained models,&nbsp;plotting.</li>
</ul>
</li>
<li><code>sfc_corpus.py</code> - holds all the functions that are used to consolidate and work with the corpus of data that is directly fed and output from the <span class="caps">SFC</span> model. The corpus is a <a href="http://pandas.pydata.org/">Pandas</a> data frame object, which allows easy data access and&nbsp;analysis.</li>
<li><code>sfc_data.py</code> - comprises functions that read the input data files and calculate the <code>f_0</code> and duration&nbsp;coefficients,</li>
<li><code>sfc_learn.py</code> - holds the <span class="caps">SFC</span> training function <code>analysis_by_synthesis()</code> and the function for <span class="caps">NNCG</span>&nbsp;initialisation,</li>
<li><code>sfc_dsp.py</code> - holds <span class="caps">DSP</span> functions for smoothing the pitch contour based on&nbsp;SciPy,</li>
<li><code>sfc_plot.py</code> - holds the plotting functions based on <a href="http://matplotlib.org/">matplotlib</a> and <a href="http://seaborn.pydata.org/">seaborn</a>.</li>
</ul>
<p>Currently, PySFC supports the proprietary <span class="caps">SFC</span> <code>fpro</code> file format as well as standard Praat <code>TextGrid</code> annotations. Pitch is calculated based on Praat <code>PointProcess</code> pitch mark files, but integration of state-of-the-art pitch extractors is planned for the future.
PySFC also brings added value, by adding the possibility to adjust the number of samples to be taken from the pitch contour at each rhythmical unit vowel nucleus, and with its extended plotting capabilities for data and performance&nbsp;analysis.</p>
<h4>PySFC Example&nbsp;Plots</h4>
<p>Here are a few example plots with PySFC just to show case what it can do. The plotted files are included as examples in the <code>examples/</code> directory.</p>
<p><img alt="alt text" src="../images/r1_DC_393.png">
<strong>Figure 1.</strong> Example PySFC intonation decomposition for the French utterance: <em>Son bagou pourrait faciliter la communauté.</em> into constituent functional contours: declaration (<span class="caps">DC</span>), dependency to the left/right (<span class="caps">DG</span>/<span class="caps">DD</span>), and cliticisation (<span class="caps">XX</span>, <span class="caps">DV</span>).</p>
<p><img alt="alt text" src="../images/r1_chinese_003.png">
<strong>Figure 2.</strong> Example PySFC intonation decomposition for the Chinese utterance: <em>Tā men céng zài jī cāng nèi géi lǔ kè diǎn gē hè shēng rì,
céng ná zhē shuí guǒ nái fěn qù tàn wàng yóu tā men zhuǎn sòng qù yī yuàn de lǔ kè chǎn fù.</em> into constituent functional contours: declaration (<span class="caps">DC</span>), tones (C0-4), word boundaries (<span class="caps">WB</span>), and independence (<span class="caps">ID</span>).</p>
<p><img alt="alt text" src="../images/r1_expansion_DD.png">
<strong>Figure 3.</strong> Example PySFC expansion in left and right context for the dependency to the right (<span class="caps">DD</span>) functional contour, numbers next to the plots show the number of occurences of that scope in the&nbsp;data.</p>
<p><img alt="alt text" src="../images/r1_losses_DC.png"></p>
<p><strong>Figure 4.</strong> Example PySFC plots of <code>f_0</code> reconstruction losses for all NNCGs for attitude <span class="caps">DC</span> per iteration for&nbsp;French.</p>
    </div>
    <!-- End Main Content -->

    <!-- Sidebar -->
    <aside class="large-3 columns">
        <!-- <h5 class="sidebar-title">Site</h5> -->
        <ul class="side-nav">
            <!-- <li><a href="../archives.html">Archives</a> -->
            <!-- <li><a href="../tags.html">Tags</a> -->
                <li><a href="../" class="button primary large">ProsoDeep</a></li>
                <li><a href="../pages/project-outline.html" class="button primary large">Project&nbsp;outline</a></li>
                <li><a href="../pages/pysfc.html" class="button primary large">PySFC</a></li>
                <li><a href="../pages/references.html" class="button primary large">References</a></li>
                <li><a href="../pages/sfc.html" class="button primary large"><span class="caps">SFC</span></a></li>


        </ul>


        <h5 class="sidebar-title">Links</h5>
        <ul class="side-nav">
            <li><a href="http://getpelican.com/">Pelican</a></li>
            <li><a href="http://python.org/">Python.org</a></li>
            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
        </ul>


    </aside> <!-- End Sidebar -->

</div> <!-- End Main Content and Sidebar -->


<!-- Footer -->
<footer class="row">
    <div class="large-12 columns">
        <hr />
        <div class="row">
            <div class="large-6 columns">
                <p>ProsoDeep by bgerazov</p>
            </div>
            </div>
    </div>
</footer>